<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Vibytune</title>
        <link rel="icon" type="image/png" href="/logo.png" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
            rel="stylesheet"
        />
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        fontFamily: {
                            sans: ["Inter", "ui-sans-serif", "system-ui"],
                        },
                        colors: {
                            ink: "#0b1022",
                            mist: "#e6eefc",
                            slate: "#9fb1d1",
                            card: "#121733",
                            card2: "#161c3e",
                            glow1: "#7c9bff",
                            glow2: "#6ce0ff",
                        },
                        boxShadow: {
                            soft: "0 10px 40px rgba(0,0,0,0.25)",
                            glow: "0 10px 40px rgba(124,155,255,0.35)",
                        },
                        keyframes: {
                            float: {
                                "0%,100%": { transform: "translateY(0px)" },
                                "50%": { transform: "translateY(-6px)" },
                            },
                            shimmer: {
                                "0%": { "background-position": "0% 50%" },
                                "100%": { "background-position": "100% 50%" },
                            },
                        },
                        animation: {
                            float: "float 6s ease-in-out infinite",
                            shimmer: "shimmer 3s linear infinite",
                        },
                    },
                },
            };
        </script>
        <style>
            body {
                background: radial-gradient(
                        1200px 600px at 70% -10%,
                        rgba(108, 224, 255, 0.12),
                        transparent 60%
                    ),
                    radial-gradient(
                        1000px 500px at -10% 0%,
                        rgba(124, 155, 255, 0.22),
                        transparent 60%
                    ),
                    #0b1022;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            .glass {
                background: linear-gradient(
                    180deg,
                    rgba(24, 28, 58, 0.8),
                    rgba(18, 23, 51, 0.7)
                );
                border: 1px solid rgba(255, 255, 255, 0.08);
                backdrop-filter: blur(8px);
            }
            .ringy {
                transition: box-shadow 0.2s ease, transform 0.12s ease;
            }
            .ringy:hover {
                box-shadow: 0 0 0 6px rgba(124, 155, 255, 0.15);
                transform: translateY(-1px);
            }
            .gradient-border {
                position: relative;
                border-radius: 18px;
            }
            .gradient-border::before {
                content: "";
                position: absolute;
                inset: -1px;
                border-radius: inherit;
                background: linear-gradient(90deg, #7c9bff, #6ce0ff, #7c9bff);
                background-size: 200% 100%;
                animation: shimmer 6s linear infinite;
                z-index: -1;
                filter: blur(8px);
            }
            .dropzone input[type="file"] {
                position: absolute;
                inset: 0;
                opacity: 0;
                cursor: pointer;
            }
        </style>
    </head>
    <body class="text-mist font-sans">
        <header class="relative z-10">
            <div
                class="max-w-6xl mx-auto px-5 py-6 flex items-center justify-between"
            >
                <div class="flex items-center gap-3">
                    <div
                        class="w-8 h-8 rounded-xl bg-gradient-to-tr from-glow1 to-glow2 shadow-glow animate-float"
                    >
                        <img
                            src="logo.png"
                            alt="Company Logo"
                            width="60"
                            height="60"
                        />
                    </div>
                    <span class="font-extrabold tracking-tight text-xl"
                        >Vibytune</span
                    >
                </div>
            </div>
        </header>

        <section class="relative pt-10 pb-4">
            <div class="absolute inset-0 -z-10">
                <div
                    class="absolute -top-24 left-1/3 w-72 h-72 rounded-full blur-3xl opacity-25 bg-glow1 animate-float"
                ></div>
                <div
                    class="absolute top-10 right-12 w-80 h-80 rounded-full blur-3xl opacity-25 bg-glow2 animate-float"
                    style="animation-delay: 1s"
                ></div>
            </div>

            <div class="max-w-5xl mx-auto px-5 text-center">
                <h1
                    class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight"
                >
                    Upload a
                    <span
                        class="bg-clip-text text-transparent bg-gradient-to-r from-glow1 to-glow2"
                        >clip</span
                    >. Create a
                    <span
                        class="bg-clip-text text-transparent bg-gradient-to-r from-glow1 to-glow2"
                        >vibe</span
                    >.
                </h1>
                <p class="mt-4 text-slate max-w-2xl mx-auto">
                    Upload a video clip and we'll analyze it to select the
                    perfect song and starting point. We'll combine them to
                    create your custom musical moment.
                </p>
            </div>
        </section>

        <main class="max-w-5xl mx-auto px-5 pb-16 space-y-6">
            <div class="gradient-border">
                <section class="glass rounded-2xl p-5 md:p-8 shadow-soft">
                    <div
                        id="dropzone"
                        class="dropzone relative rounded-xl border border-white/10 p-5 md:p-8 ringy"
                    >
                        <div
                            class="pointer-events-none flex flex-col md:flex-row items-center gap-5"
                        >
                            <div
                                class="shrink-0 w-14 h-14 rounded-xl bg-gradient-to-br from-glow1 to-glow2 flex items-center justify-center shadow-glow"
                            >
                                <svg
                                    width="28"
                                    height="28"
                                    viewBox="0 0 24 24"
                                    class="text-ink"
                                >
                                    <path
                                        d="M12 16V4m0 12l-4-4m4 4l4-4M6 20h12"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="1.5"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                </svg>
                            </div>
                            <div class="text-left">
                                <div class="text-lg md:text-xl font-semibold">
                                    Drag & drop your video
                                </div>
                                <div class="text-slate">
                                    or click to choose a file (MP4 recommended)
                                </div>
                            </div>
                        </div>
                        <input id="fileInput" type="file" accept="video/*" />
                    </div>

                    <button
                        id="processBtn"
                        class="mt-5 w-full rounded-xl bg-gradient-to-r from-glow1 to-glow2 text-ink font-extrabold py-3.5 shadow-glow disabled:opacity-50 disabled:cursor-not-allowed ringy"
                        disabled
                    >
                        Process Video
                    </button>

                    <div id="status" class="mt-3 min-h-[22px] text-slate"></div>

                    <div
                        id="progress"
                        class="hidden mt-3 h-2 w-full overflow-hidden rounded-full bg-white/10"
                    >
                        <div
                            id="progressBar"
                            class="h-2 w-0 bg-gradient-to-r from-glow1 to-glow2 transition-[width] duration-200"
                        ></div>
                    </div>
                </section>
            </div>

            <section
                id="result"
                class="hidden glass rounded-2xl p-5 md:p-8 shadow-soft"
            >
                <h2 class="text-2xl font-bold mb-4">Result</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-3">
                        <h3 class="font-semibold">Thumbnail</h3>
                        <div
                            class="rounded-xl overflow-hidden border border-white/10"
                        >
                            <img
                                id="contactSheet"
                                alt="video preview"
                                class="block w-full"
                            />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="space-y-1">
                            <h3 class="font-semibold">Recommendation</h3>
                            <p>
                                <span class="opacity-75">Song:</span>
                                <span
                                    id="songText"
                                    class="font-semibold"
                                ></span>
                            </p>
                            <p>
                                <span class="opacity-75">Start at:</span>
                                <span id="startSec"></span>s
                            </p>
                            <p>
                                <span class="opacity-75"
                                    >Selected track file:</span
                                >
                                <code
                                    id="selectedTrack"
                                    class="px-2 py-1 rounded bg-white/5"
                                ></code>
                            </p>
                        </div>
                        <div>
                            <a
                                id="downloadUrl"
                                href="#"
                                download="Your video.mp4"
                                class="inline-flex items-center gap-2 rounded-xl px-4 py-3 bg-white/10 border border-white/15 hover:bg-white/15 transition"
                            >
                                <svg width="18" height="18" viewBox="0 0 24 24">
                                    <path
                                        d="M12 16V4m0 12l-4-4m4 4l4-4M6 20h12"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="1.5"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                </svg>
                                Download processed video
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center text-slate pb-10">
            <div
                class="inline-flex flex-wrap items-center justify-center gap-3"
            >
                <span class="opacity-80">Rate how well the system worked:</span>
                <div id="ratingGroup" class="inline-flex gap-2">
                    <button
                        class="rate px-3 py-1 rounded bg-white/10 hover:bg-white/15"
                        data-v="1"
                    >
                        1
                    </button>
                    <button
                        class="rate px-3 py-1 rounded bg-white/10 hover:bg-white/15"
                        data-v="2"
                    >
                        2
                    </button>
                    <button
                        class="rate px-3 py-1 rounded bg-white/10 hover:bg-white/15"
                        data-v="3"
                    >
                        3
                    </button>
                    <button
                        class="rate px-3 py-1 rounded bg-white/10 hover:bg-white/15"
                        data-v="4"
                    >
                        4
                    </button>
                    <button
                        class="rate px-3 py-1 rounded bg-white/10 hover:bg-white/15"
                        data-v="5"
                    >
                        5
                    </button>
                </div>
                <button
                    id="submitRating"
                    class="px-4 py-2 rounded-xl bg-gradient-to-r from-glow1 to-glow2 text-ink font-extrabold"
                >
                    Submit
                </button>
            </div>
            <div id="ratingStatus" class="mt-2 text-slate"></div>
        </footer>

        <script src="/client.js"></script>
    </body>
</html>
